(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{430:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n={id:"front0",name:"前端总览",label:"主要是一些零散知识点",rate:.6,status:"B",children:[{id:"front1_1",name:"js笔记",label:"js知识点",rate:.627,status:"R",link:"/pages/accumulation/front/js-note-1.html",children:[{id:"g121",name:"Name3",collapsed:!0,label:"138.00",rate:.123,status:"B",children:[{id:"g1211",name:"Name4",label:"138.00",rate:1,status:"B",children:[]}]},{id:"g122",name:"Name5",collapsed:!0,label:"100.00",rate:.296,status:"G",children:[{id:"g1221",name:"Name6",label:"40.00",rate:.4,status:"G",children:[{id:"g12211",name:"Name6-1",label:"40.00",rate:1,status:"R",children:[]}]},{id:"g1222",name:"Name7",label:"60.00",rate:.6,status:"G",children:[]}]},{id:"g123",name:"Name8",collapsed:!0,label:"100.00",rate:.296,status:"DI",children:[{id:"g1231",name:"Name8-1",label:"100.00",rate:1,status:"DI",children:[]}]}]},{id:"front1_2",name:"node笔记",label:"node知识点",rate:.187,status:"B",link:"/pages/accumulation/front/node-note-1.html",children:[{id:"g131",name:"Name10",label:"33.90",rate:.336,status:"R",children:[]},{id:"g132",name:"Name11",label:"67.00",rate:.664,status:"G",children:[]}]},{id:"front1_3",name:"vue笔记",label:"vue知识点",rate:.186,status:"G",link:"/pages/accumulation/front/vue-note-1.html",children:[]},{id:"front1_4",name:"css笔记",label:"css知识点",rate:.186,status:"G",link:"/pages/accumulation/front/css-note-1.html",children:[]},{id:"front1_5",name:"ts笔记",label:"ts知识点",rate:.186,status:"G",link:"/pages/accumulation/front/ts-note-1.html",children:[]}]}},515:function(t,e,a){},672:function(t,e,a){"use strict";a(515)},689:function(t,e,a){"use strict";a.r(e);var n=a(56),r=a(33),i=(a(106),a(50),a(399),a(377),a(8),a(431)),l=a(430),o={name:"optimized",props:{queryData:{type:Object,default:function(){}}},data:function(){return{graph:{},colors:{B:"#5B8FF9",R:"#F46649",Y:"#EEBC20",G:"#5BD8A6",DI:"#A7A7A7"}}},computed:{treeConfig:function(){return{width:window.innerWidth,height:window.innerHeight,modes:{default:["drag-canvas","zoom-canvas","drag-node","click-select","brush-select"]},fitView:!0,animate:!0,defaultNode:{type:"flow-rect"},defaultEdge:{type:"cubic-horizontal",style:{stroke:"#CED4D9"}},layout:{type:"indented",direction:"LR",dropCap:!1,indent:300,getHeight:function(){return 60}}}}},methods:{initPage:function(){this.registerFn(),this.renderBrainMap()},handleCollapse:function(t){var e=t.target.get("modelId"),a=this.graph.findById(e),n=a.getModel();n.collapsed=!n.collapsed,this.graph.layout(),this.graph.setItemState(a,"collapse",n.collapsed)},clickNodeEvent:function(){var t=this;this.graph.on("collapse-text:click",(function(e){t.handleCollapse(e)})),this.graph.on("node:click",(function(t){var e=t.target.attrs.text;if("+"!==e&&"-"!==e){var a=function(t){return t.item._cfg.model}(t);console.log("点击节点",a)}}))},registerFn:function(){var t=this;i.a.registerNode("flow-rect",{shapeType:"flow-rect",draw:function(e,a){var n=e.name,i=void 0===n?"":n,l=e.variableName,o=e.variableValue,s=e.variableUp,c=e.label,d=e.collapsed,u=e.currency,h=e.status,f=e.rate,g={width:202,height:60,lineWidth:1,fontSize:12,fill:"#fff",radius:4,stroke:"#CED4D9",opacity:1},p={x:-g.width/2,y:-g.height/2},m={textAlign:"left",textBaseline:"bottom"},x=a.addShape("rect",{attrs:Object(r.a)({x:p.x,y:p.y},g)}),b=x.getBBox();a.addShape("text",{attrs:Object(r.a)(Object(r.a)({},m),{},{x:12+p.x,y:20+p.y,text:i.length>28?i.substr(0,28)+"...":i,fontSize:12,opacity:.85,fill:"#000",cursor:"pointer"}),name:"name-shape"});var y=a.addShape("text",{attrs:Object(r.a)(Object(r.a)({},m),{},{x:12+p.x,y:b.maxY-12,text:c,fontSize:16,fill:"#000",opacity:.85})});a.addShape("text",{attrs:Object(r.a)(Object(r.a)({},m),{},{x:y.getBBox().maxX+5,y:b.maxY-12,text:u,fontSize:12,fill:"#000",opacity:.75})});var w=a.addShape("text",{attrs:Object(r.a)(Object(r.a)({},m),{},{x:b.maxX-8,y:b.maxY-12,text:"".concat((100*(o||0)).toFixed(2),"%"),fontSize:12,textAlign:"right",fill:t.colors[h]})}),v=s?"triangle":"triangle-down",B=a.addShape("marker",{attrs:Object(r.a)(Object(r.a)({},m),{},{x:w.getBBox().minX-10,y:b.maxY-12-6,symbol:v,r:6,fill:t.colors[h]})});a.addShape("text",{attrs:Object(r.a)(Object(r.a)({},m),{},{x:B.getBBox().minX-4,y:b.maxY-12,text:l,fontSize:12,textAlign:"right",fill:"#000",opacity:.45})});a.addShape("rect",{attrs:{x:p.x,y:b.maxY-4,width:g.width,height:4,radius:[0,0,g.radius,g.radius],fill:"#E0DFE3"}}),a.addShape("rect",{attrs:{x:p.x,y:b.maxY-4,width:f*b.width,height:4,radius:[0,0,0,g.radius],fill:t.colors[h]}});return e.children&&e.children.length&&(a.addShape("rect",{attrs:{x:g.width/2-8,y:-8,width:16,height:16,stroke:"rgba(0, 0, 0, 0.25)",cursor:"pointer",fill:"#fff"},name:"collapse-back",modelId:e.id}),a.addShape("text",{attrs:{x:g.width/2,y:-1,textAlign:"center",textBaseline:"middle",text:d?"+":"-",fontSize:16,cursor:"pointer",fill:"rgba(0, 0, 0, 0.25)"},name:"collapse-text",modelId:e.id})),this.drawLinkPoints(e,a),x},update:function(t,e){var a=e.getContainer();this.updateLinkPoints(t,a)},setState:function(t,e,a){if("collapse"===t){var n=a.getContainer().find((function(t){return"collapse-text"===t.get("name")}));n&&(e?n.attr({text:"+"}):n.attr({text:"-"}))}},getAnchorPoints:function(){return[[0,.5],[1,.5]]}},"rect"),i.a.registerEdge("flow-cubic",{getControlPoints:function(t){console.log(t);var e=t.controlPoints;if(!e||!e.length){var a=t.startPoint,n=t.endPoint,r=t.sourceNode,i=t.targetNode,l=r?r.getModel():a,o=l.x,s=l.y,c=l.coefficientX,d=l.coefficientY,u=i?i.getModel():n,h=(u.x-o)*c,f=(u.y-s)*d;h=h>40?40:h,f=f<-30?f:-30,e=[{x:a.x+h,y:a.y},{x:n.x+f,y:n.y}]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-line")},getAsyncTreeData:function(){var t=this;return new Promise((function(e,a){e(t.queryData)}))},renderBrainMap:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAsyncTreeData();case 2:a=e.sent,console.log("000",l.a,a),t.graph=new i.a.TreeGraph(Object(r.a)({container:"g6Tree"},t.treeConfig)),t.clickNodeEvent(),t.graph.data(a),t.graph.render(),t.graph.fitView();case 9:case"end":return e.stop()}}),e)})))()}},created:function(){this.initPage()}},s=(a(672),a(26)),c=Object(s.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"tree_wrap",attrs:{id:"g6Tree"}})}),[],!1,null,"9609eabe",null);e.default=c.exports}}]);