(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{850:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"js-web-api-存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-web-api-存储"}},[t._v("#")]),t._v(" JS-Web-API-存储")]),t._v(" "),a("ClientOnly",[a("Valine")],1),t._v(" "),a("p",[a("a",{attrs:{href:"https://zmx2321.github.io/blog_code/interview/interview-one-side/13.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("代码笔记"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"_1-题目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-题目"}},[t._v("#")]),t._v(" 1. 题目")]),t._v(" "),a("ul",[a("li",[t._v("描述cookie、localStorage、sessionStorage区别\n"),a("ul",[a("li",[t._v("cookie应该算是http请求的一部分，但他具备这种能力")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-知识点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-知识点"}},[t._v("#")]),t._v(" 2. 知识点")]),t._v(" "),a("h3",{attrs:{id:"_2-1-cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-cookie"}},[t._v("#")]),t._v(" 2.1. cookie")]),t._v(" "),a("ul",[a("li",[t._v("简述\n"),a("ul",[a("li",[t._v("cookie本身用于浏览器和server通讯")]),t._v(" "),a("li",[t._v('最初的的时候是被"借用"到本地存储来\n'),a("ul",[a("li",[t._v("因为html5之前还没有localStorage和sessionStorage(2010)")])])]),t._v(" "),a("li",[t._v("可用"),a("code",[t._v('document.cookie="..."来修改')]),t._v(" "),a("ul",[a("li",[t._v("浏览器中在application中可以看到cookie，本地存储")]),t._v(" "),a("li",[t._v("以分号拆分出来，以键值对的展现方式，一行行展现")])])]),t._v(" "),a("li",[t._v("后端也可以修改cookie\n"),a("ul",[a("li",[t._v("浏览器中在network中可以看到请求头里面也有cookie")]),t._v(" "),a("li",[t._v("即浏览器(本地)和服务端通讯")]),t._v(" "),a("li",[t._v("可以每次请求都会把cookie带上")]),t._v(" "),a("li",[t._v("字符串的形式，以分号分割")])])])])]),t._v(" "),a("li",[t._v("代码示例"),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// cookie以分号分割，以键值对的形式存储")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// cookie只能赋值一个")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a=100;b=200"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置cookie")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cookie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取cookie a=100")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b=200"')]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cookie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a=100;b=200")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 同一个key会覆盖,不同key会追加")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b=300"')]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cookie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a=100;b=300")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("ul",[a("li",[t._v("登陆的时候经常会用cookie实现\n"),a("ul",[a("li",[t._v("在请求头里面假如有个userid，服务端可以获取到这个值，就知道这个用户了")])])]),t._v(" "),a("li",[t._v("只要cookie不清除，刷新cookie依旧存在，所以可以做本地存储")]),t._v(" "),a("li",[t._v("在html5之前唯一能做本地存储的api")]),t._v(" "),a("li",[t._v("但cookie最初的设定不是做本地存储，主要用来浏览器和服务端进行通讯\n"),a("ul",[a("li",[t._v("只是被借用来做本地存储")])])])])]),t._v(" "),a("li",[t._v("cookie缺点\n"),a("ul",[a("li",[t._v("存储大小，最大4kb\n"),a("ul",[a("li",[t._v("如果每次请求都把cookie带上，存储的值很多，网速又慢，会很麻烦")])])]),t._v(" "),a("li",[t._v("http请求时需要发送到服务端，增加请求数据量\n"),a("ul",[a("li",[t._v("cookie做本地存储的话，存的东西在每次请求的时候都会被带到服务器上去")])])]),t._v(" "),a("li",[t._v("只能用"),a("code",[t._v('document.cookie="..."')]),t._v("修改，太过简陋")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-2-localstorage和sessionstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-localstorage和sessionstorage"}},[t._v("#")]),t._v(" 2.2. localStorage和sessionStorage")]),t._v(" "),a("ul",[a("li",[t._v("简述\n"),a("ul",[a("li",[t._v("HTML5专门为存储设计的，最大可存5M\n"),a("ul",[a("li",[t._v("5M是针对每个域名来说的")])])]),t._v(" "),a("li",[t._v("API简单易用 => setItem、getItem\n"),a("ul",[a("li",[t._v("很多key...value...的库，都是用get、set这种形式的api")])])]),t._v(" "),a("li",[t._v("不会随http请求被发送出去")])])]),t._v(" "),a("li",[t._v("代码示例"),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 存储的都是字符串的形式")]),t._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置localStorage")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localStorage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取localStorage")]),t._v("\n\nsessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置sessionStorage")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sessionStorage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取sessionStorage")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])]),t._v(" "),a("li",[t._v("区别\n"),a("ul",[a("li",[t._v("localStorage数据会永久存储，除非代码或手动删除")]),t._v(" "),a("li",[t._v("sessionStorage数据只存在于当前会话，浏览器关闭则清空")]),t._v(" "),a("li",[t._v("一般用localStorage会更多一些")])])])]),t._v(" "),a("hr"),t._v(" "),a("br"),t._v(" "),a("p",[a("font",{attrs:{color:"#666",size:"5"}},[t._v("~End~")])],1)],1)}),[],!1,null,null,null);s.default=e.exports}}]);